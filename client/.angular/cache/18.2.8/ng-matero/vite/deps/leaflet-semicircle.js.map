{
  "version": 3,
  "sources": ["../../../../../../node_modules/leaflet-semicircle/Semicircle.js"],
  "sourcesContent": ["/**\n * Semicircle extension for L.Circle.\n * Jan Pieter Waagmeester <jieter@jieter.nl>\n *\n * This version is tested with leaflet 1.0.2\n */\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(['leaflet'], factory);\n  } else if (typeof module !== 'undefined' && typeof require !== 'undefined') {\n    // Node/CommonJS\n    module.exports = factory(require('leaflet'));\n  } else {\n    // Browser globals\n    if (typeof window.L === 'undefined') {\n      throw 'Leaflet must be loaded first';\n    }\n    factory(window.L);\n  }\n})(function (L) {\n  var DEG_TO_RAD = Math.PI / 180;\n\n  // make sure 0 degrees is up (North) and convert to radians.\n  function fixAngle(angle) {\n    return (angle - 90) * DEG_TO_RAD;\n  }\n\n  // rotate point [x + r, y+r] around [x, y] by `angle` radians.\n  function rotated(p, angle, r) {\n    return p.add(L.point(Math.cos(angle), Math.sin(angle)).multiplyBy(r));\n  }\n  L.Point.prototype.rotated = function (angle, r) {\n    return rotated(this, angle, r);\n  };\n  var semicircle = {\n    options: {\n      startAngle: 0,\n      stopAngle: 359.9999\n    },\n    startAngle: function () {\n      if (this.options.startAngle < this.options.stopAngle) {\n        return fixAngle(this.options.startAngle);\n      } else {\n        return fixAngle(this.options.stopAngle);\n      }\n    },\n    stopAngle: function () {\n      if (this.options.startAngle < this.options.stopAngle) {\n        return fixAngle(this.options.stopAngle);\n      } else {\n        return fixAngle(this.options.startAngle);\n      }\n    },\n    setStartAngle: function (angle) {\n      this.options.startAngle = angle;\n      return this.redraw();\n    },\n    setStopAngle: function (angle) {\n      this.options.stopAngle = angle;\n      return this.redraw();\n    },\n    setDirection: function (direction, degrees) {\n      if (degrees === undefined) {\n        degrees = 10;\n      }\n      this.options.startAngle = direction - degrees / 2;\n      this.options.stopAngle = direction + degrees / 2;\n      return this.redraw();\n    },\n    getDirection: function () {\n      return this.stopAngle() - (this.stopAngle() - this.startAngle()) / 2;\n    },\n    isSemicircle: function () {\n      var startAngle = this.options.startAngle,\n        stopAngle = this.options.stopAngle;\n      return !(startAngle === 0 && stopAngle > 359) && !(startAngle === stopAngle);\n    },\n    _containsPoint: function (p) {\n      function normalize(angle) {\n        while (angle <= -Math.PI) {\n          angle += 2.0 * Math.PI;\n        }\n        while (angle > Math.PI) {\n          angle -= 2.0 * Math.PI;\n        }\n        return angle;\n      }\n      var angle = Math.atan2(p.y - this._point.y, p.x - this._point.x);\n      var nStart = normalize(this.startAngle());\n      var nStop = normalize(this.stopAngle());\n      if (nStop <= nStart) {\n        nStop += 2.0 * Math.PI;\n      }\n      if (angle <= nStart) {\n        angle += 2.0 * Math.PI;\n      }\n      return nStart < angle && angle <= nStop && p.distanceTo(this._point) <= this._radius + this._clickTolerance();\n    }\n  };\n  L.SemiCircle = L.Circle.extend(semicircle);\n  L.SemiCircleMarker = L.CircleMarker.extend(semicircle);\n  L.semiCircle = function (latlng, options) {\n    return new L.SemiCircle(latlng, options);\n  };\n  L.semiCircleMarker = function (latlng, options) {\n    return new L.SemiCircleMarker(latlng, options);\n  };\n  var _updateCircleSVG = L.SVG.prototype._updateCircle;\n  var _updateCircleCanvas = L.Canvas.prototype._updateCircle;\n  L.SVG.include({\n    _updateCircle: function (layer) {\n      // If we want a circle, we use the original function\n      if (!(layer instanceof L.SemiCircle || layer instanceof L.SemiCircleMarker) || !layer.isSemicircle()) {\n        return _updateCircleSVG.call(this, layer);\n      }\n      if (layer._empty()) {\n        return this._setPath(layer, 'M0 0');\n      }\n      var p = layer._map.latLngToLayerPoint(layer._latlng),\n        r = layer._radius,\n        r2 = Math.round(layer._radiusY || r),\n        start = p.rotated(layer.startAngle(), r),\n        end = p.rotated(layer.stopAngle(), r);\n      var largeArc = layer.options.stopAngle - layer.options.startAngle >= 180 ? '1' : '0';\n      var d = 'M' + p.x + ',' + p.y +\n      // line to first start point\n      'L' + start.x + ',' + start.y + 'A ' + r + ',' + r2 + ',0,' + largeArc + ',1,' + end.x + ',' + end.y + ' z';\n      this._setPath(layer, d);\n    }\n  });\n  L.Canvas.include({\n    _updateCircle: function (layer) {\n      // If we want a circle, we use the original function\n      if (!(layer instanceof L.SemiCircle || layer instanceof L.SemiCircleMarker) || !layer.isSemicircle()) {\n        return _updateCircleCanvas.call(this, layer);\n      }\n      if (!this._drawing || layer._empty()) {\n        return;\n      }\n      var p = layer._point,\n        ctx = this._ctx,\n        r = layer._radius,\n        s = (layer._radiusY || r) / r,\n        start = p.rotated(layer.startAngle(), r);\n      if (s !== 1) {\n        ctx.save();\n        ctx.scale(1, s);\n      }\n      ctx.beginPath();\n      ctx.moveTo(p.x, p.y);\n      ctx.lineTo(start.x, start.y);\n      ctx.arc(p.x, p.y, r, layer.startAngle(), layer.stopAngle());\n      ctx.lineTo(p.x, p.y);\n      if (s !== 1) {\n        ctx.restore();\n      }\n      this._fillStroke(ctx, layer);\n    }\n  });\n});"],
  "mappings": "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",
  "names": ["angle"]
}
