{
  "version": 3,
  "sources": ["../../../../../../node_modules/ngx-progressbar/fesm2022/ngx-progressbar-router.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { InjectionToken, inject, Directive } from '@angular/core';\nimport { NavigationStart, NavigationEnd, NavigationCancel, NavigationError, Router } from '@angular/router';\nimport { of, tap, delay, filter, switchMap } from 'rxjs';\nimport * as i1 from 'ngx-progressbar';\nimport { NgProgressRef } from 'ngx-progressbar';\nconst defaultRouterOptions = {\n  minDuration: 0,\n  startEvents: [NavigationStart],\n  completeEvents: [NavigationEnd, NavigationCancel, NavigationError]\n};\nconst NG_PROGRESS_ROUTER_OPTIONS = new InjectionToken('NG_PROGRESS_ROUTER_OPTIONS', {\n  providedIn: 'root',\n  factory: () => defaultRouterOptions\n});\nfunction provideNgProgressRouter(options) {\n  return {\n    provide: NG_PROGRESS_ROUTER_OPTIONS,\n    useValue: {\n      ...defaultRouterOptions,\n      ...options\n    }\n  };\n}\n\n/**\n * Check if a router event type exists in an array of router event types\n */\nfunction eventExists(routerEvent, events) {\n  return events.some(e => routerEvent instanceof e);\n}\nclass NgProgressRouterBase {\n  constructor() {\n    this.router = inject(Router);\n    this.progressRef = inject(NgProgressRef, {\n      host: true,\n      self: true\n    });\n    this.config = inject(NG_PROGRESS_ROUTER_OPTIONS);\n  }\n  ngOnInit() {\n    const startProgress = of({}).pipe(tap(() => this.progressRef.start()));\n    const completeProgress = of({}).pipe(delay(this.config.minDuration), tap(() => this.progressRef.complete()));\n    const filterEvents = [...this.config.startEvents, ...this.config.completeEvents];\n    this.subscription = this.router.events.pipe(filter(event => eventExists(event, filterEvents)), switchMap(event => eventExists(event, this.config.startEvents) ? startProgress : completeProgress)).subscribe();\n  }\n  ngOnDestroy() {\n    this.subscription?.unsubscribe();\n  }\n  static {\n    this.ɵfac = function NgProgressRouterBase_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || NgProgressRouterBase)();\n    };\n  }\n  static {\n    this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: NgProgressRouterBase\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgProgressRouterBase, [{\n    type: Directive\n  }], null, null);\n})();\nclass NgProgressRouter extends NgProgressRouterBase {\n  static {\n    this.ɵfac = /* @__PURE__ */(() => {\n      let ɵNgProgressRouter_BaseFactory;\n      return function NgProgressRouter_Factory(__ngFactoryType__) {\n        return (ɵNgProgressRouter_BaseFactory || (ɵNgProgressRouter_BaseFactory = i0.ɵɵgetInheritedFactory(NgProgressRouter)))(__ngFactoryType__ || NgProgressRouter);\n      };\n    })();\n  }\n  static {\n    this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: NgProgressRouter,\n      selectors: [[\"ng-progress\", \"ngProgressRouter\", \"\"]],\n      standalone: true,\n      features: [i0.ɵɵInheritDefinitionFeature]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgProgressRouter, [{\n    type: Directive,\n    args: [{\n      standalone: true,\n      selector: 'ng-progress[ngProgressRouter]'\n    }]\n  }], null, null);\n})();\nclass NgProgressRouterRef extends NgProgressRouterBase {\n  static {\n    this.ɵfac = /* @__PURE__ */(() => {\n      let ɵNgProgressRouterRef_BaseFactory;\n      return function NgProgressRouterRef_Factory(__ngFactoryType__) {\n        return (ɵNgProgressRouterRef_BaseFactory || (ɵNgProgressRouterRef_BaseFactory = i0.ɵɵgetInheritedFactory(NgProgressRouterRef)))(__ngFactoryType__ || NgProgressRouterRef);\n      };\n    })();\n  }\n  static {\n    this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: NgProgressRouterRef,\n      selectors: [[\"\", \"ngProgressRouter\", \"\", 5, \"ng-progress\"]],\n      standalone: true,\n      features: [i0.ɵɵHostDirectivesFeature([i1.NgProgressRef]), i0.ɵɵInheritDefinitionFeature]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgProgressRouterRef, [{\n    type: Directive,\n    args: [{\n      standalone: true,\n      selector: '[ngProgressRouter]:not(ng-progress)',\n      hostDirectives: [NgProgressRef]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NG_PROGRESS_ROUTER_OPTIONS, NgProgressRouter, NgProgressRouterRef, provideNgProgressRouter };\n"],
  "mappings": "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",
  "names": []
}
